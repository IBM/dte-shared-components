import React from "react";
import PropTypes from "prop-types";
import styled from "styled-components";
import { TooltipIcon } from "carbon-components-react";

import { trackNav } from "lib/analytics";
import { isPartner } from "lib/auth";
import { isUrl } from "lib/utils";

const Button = styled.div`
  margin: 0 0.5rem;
  color: #fff;
  overflow: hidden;
  cursor: pointer;
  & > svg {
    height: 32px;
    fill: #fff;
    g > path {
      fill: #fff;
    }
  }
`;

// https://dte2.s3.us-east.cloud-object-storage.appdomain.cloud/seismic.svg
const SeismicIcon = () => {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400">
      <g fillRule="evenodd">
        <path
          fill="#002424"
          d="M181.7 19.876c.385.1 1.015.1 1.4 0 .385-.101.07-.183-.7-.183s-1.085.082-.7.183M266 49.725c0 .069.585.654 1.3 1.3l1.3 1.175-1.175-1.3C266.33 49.688 266 49.416 266 49.725m-83.709 196.164c.71.088 1.97.09 2.8.003.83-.087.249-.159-1.291-.161-1.54-.002-2.219.069-1.509.158m5.214-.006c.497.096 1.217.092 1.6-.008.382-.1-.025-.179-.905-.174-.88.004-1.193.086-.695.182"
        />
        <path
          fill="#283f4d"
          d="M183.579 19.753c-.122.123-2.822.416-6 .652-3.178.236-6.139.589-6.579.785-.44.195-2.33.563-4.2.818s-3.58.607-3.8.783c-.22.176-1.345.446-2.5.602-1.154.155-2.19.429-2.302.61-.111.18-.966.452-1.9.604-.934.151-2.238.507-2.898.789-.66.282-2.37.918-3.8 1.414-5.392 1.868-19.941 9.062-20.333 10.053-.074.185-.327.337-.563.337-.235 0-1.018.45-1.74 1-.721.55-1.42 1-1.554 1-.134 0-.461.185-.727.411-.398.339-1.966 1.52-5.689 4.287-.652.484-5.115 4.245-5.818 4.902-5.783 5.405-10.054 9.952-12.778 13.603-.885 1.186-1.742 2.256-1.905 2.377-.162.121-.834 1.03-1.493 2.02-.659.99-1.294 1.89-1.412 2-.118.11-.832 1.19-1.588 2.4-.756 1.21-1.473 2.29-1.595 2.4-.122.11-.446.65-.722 1.2-.275.55-1.129 2.08-1.899 3.4-1.602 2.751-3.363 6.4-5.887 12.2-.335.77-1.008 2.57-1.494 4-.487 1.43-1.033 2.96-1.213 3.4-.672 1.639-2.007 6.615-2.249 8.377-.137 1.003-.382 1.823-.544 1.823-.162 0-.523 1.755-.803 3.9s-.533 4.08-.563 4.3c-.029.22-.221.669-.426.998-.524.839-.744 23.841-.27 28.202.523 4.823 1.625 11.411 2.072 12.4.2.44.543 1.836.764 3.101.222 1.266.588 2.649.816 3.074.227.425.413 1.072.413 1.438 0 .366.251 1.233.557 1.927.504 1.141.954 2.414 2.35 6.66.254.77.579 1.49.723 1.6.144.11.4.65.568 1.2.168.55 1.002 2.46 1.854 4.245.851 1.784 1.548 3.449 1.548 3.7 0 .25.18.455.4.455.22 0 .4.209.4.465s.855 1.887 1.9 3.626l2.305 3.835c1.126 1.874 4.766 7.054 5.393 7.674.111.11.641.83 1.177 1.6 2.498 3.588 9.702 11.144 14.825 15.55a483.26 483.26 0 0 1 4.4 3.813c.33.299 2.04 1.555 3.8 2.791 1.76 1.235 3.38 2.389 3.6 2.563.822.652 7.145 4.303 11 6.352 5.287 2.811 15.498 6.931 18.6 7.506.88.163 1.78.445 2 .625.22.181 1.3.519 2.4.751 1.1.233 3.17.695 4.6 1.028 1.43.332 3.149.608 3.82.613.671.004 1.391.17 1.6.367.606.573 12.136 1.393 17.88 1.273l1.5-.032V133.603l56.3-.102 56.3-.101-.087-7.344c-.048-4.039-.252-7.549-.452-7.8-.201-.251-.489-1.824-.641-3.495-.152-1.672-.452-3.742-.667-4.6-.214-.859-.649-2.641-.966-3.961-.842-3.502-1.729-6.685-2.119-7.6-.187-.44-.752-2.06-1.255-3.6-.504-1.54-1.147-3.34-1.429-4-2.213-5.168-2.801-6.417-3.073-6.533-.171-.074-.311-.341-.311-.595 0-.463-2.007-4.698-2.404-5.072-.117-.11-.432-.65-.701-1.2a24.51 24.51 0 0 0-.987-1.8c-.274-.44-1.109-1.79-1.855-3-1.672-2.711-3.383-5.333-3.654-5.6-.112-.11-.992-1.28-1.956-2.6s-1.957-2.58-2.207-2.8c-.25-.22-.869-.94-1.376-1.6-2.111-2.749-10.912-11.441-14.58-14.4-.818-.66-2.161-1.781-2.984-2.491-.823-.71-1.618-1.295-1.767-1.3-.15-.005-.51-.234-.8-.509-.661-.625-5.486-3.9-5.746-3.9-.105 0-1.044-.588-2.087-1.306-1.043-.719-2.886-1.813-4.096-2.432-1.21-.62-2.92-1.52-3.8-2.001-.88-.481-2.77-1.383-4.2-2.003-1.43-.62-3.167-1.382-3.86-1.693-.694-.311-1.386-.565-1.54-.565-.154 0-.846-.25-1.54-.554-1.968-.866-5.917-2.174-7.46-2.47-.77-.147-1.58-.412-1.8-.587-.22-.175-1.3-.508-2.4-.739-1.1-.232-3.26-.691-4.8-1.021-1.54-.33-3.439-.606-4.22-.614-.781-.008-1.591-.185-1.8-.392-.722-.716-22.374-2.099-23.001-1.47"
        />
        <path
          fill="#f05a28"
          d="M210.4 211.138V267.6H97.474l.267 7.084c.147 3.897.446 7.263.663 7.48.218.218.403 1.125.412 2.016.009.891.268 2.88.576 4.42.307 1.54.772 3.88 1.032 5.2.26 1.32.61 2.58.779 2.8.169.22.438 1.21.599 2.2.161.99.526 2.256.811 2.814.285.557.644 1.682.797 2.5.154.817.419 1.486.59 1.486.171 0 .434.675.585 1.5.151.825.494 1.86.762 2.3.268.44 1.015 2.15 1.658 3.8.644 1.65 1.266 3.09 1.383 3.2.117.11.739 1.28 1.384 2.6 6.241 12.779 16.9 26.104 28.428 35.537 1.54 1.26 3.391 2.825 4.112 3.477.722.652 1.409 1.186 1.527 1.186.118 0 .804.45 1.525 1 .722.55 1.52 1 1.774 1s.462.139.462.309c0 .17.622.644 1.381 1.053.76.409 1.707 1.035 2.104 1.391 1.221 1.095 13.251 7.217 14.215 7.234.385.007.7.193.7.413 0 .22.225.406.5.414.275.007 1.22.361 2.1.786.88.425 1.87.785 2.2.8.33.015 1.32.375 2.2.8.88.425 1.885.779 2.233.786.349.008.766.147.929.309.162.162.507.305.766.316.26.012 1.282.244 2.272.515l3.8 1.044c5.086 1.4 9.175 2.09 18.2 3.073 4.501.49 22.062.197 23.8-.397.66-.226 2.55-.577 4.2-.781 3.574-.441 10.118-1.74 10.4-2.064.11-.126 1.1-.433 2.2-.682 3.226-.73 6.789-1.863 6.933-2.204.074-.173.403-.315.732-.315.727 0 4.903-1.638 8.817-3.459 1.584-.738 3.054-1.341 3.266-1.341.212 0 .445-.135.519-.3.073-.165.763-.608 1.533-.985.77-.377 2.48-1.315 3.8-2.083 1.32-.769 2.94-1.672 3.6-2.007.66-.335 2.078-1.246 3.152-2.023l4.8-3.473c1.566-1.133 2.938-2.168 3.048-2.3.11-.132 1.19-1.041 2.4-2.019 4.081-3.301 11.887-11.357 15.124-15.61.921-1.21 1.915-2.47 2.21-2.8 1.048-1.176 3.866-5.078 3.866-5.353 0-.155.196-.498.435-.764 2.144-2.381 10.046-17.786 10.636-20.736.126-.631.369-1.147.539-1.147.171 0 .536-.945.812-2.1.276-1.155.644-2.37.819-2.7.411-.777 1.834-5.794 2.156-7.6.137-.77.407-1.76.6-2.2.193-.44.534-1.97.758-3.4.225-1.43.602-3.5.839-4.6 1.149-5.335.834-34.854-.389-36.4-.174-.22-.446-1.57-.605-3-.159-1.43-.426-2.78-.592-3-.167-.22-.425-1.12-.574-2-1.306-7.74-7.843-23.433-13.421-32.216-.763-1.201-1.573-2.316-1.8-2.478-.227-.162-.271-.297-.097-.3.173-.003.123-.231-.111-.506-.235-.275-1.403-1.85-2.596-3.5-2.995-4.142-3.426-4.693-4.909-6.279-.715-.764-1.301-1.509-1.303-1.655-.008-.748-12.141-12.184-15.797-14.89-1.32-.977-2.619-1.956-2.886-2.176l-1.025-.846c-.297-.245-.978-.676-1.514-.958-.536-.281-1.605-1.004-2.375-1.607-1.317-1.03-4.561-2.976-6.8-4.08-.55-.271-1.09-.609-1.2-.75-.166-.213-6.049-3.066-9-4.364-3.829-1.683-4.622-1.995-5.078-1.997-.287-.002-1.025-.265-1.639-.586-.614-.32-1.741-.699-2.504-.842-.763-.144-1.479-.408-1.59-.588-.112-.18-1.235-.538-2.496-.796-1.261-.257-2.653-.618-3.093-.801-1.206-.503-6.813-1.63-10.2-2.052-1.65-.205-3.574-.552-4.276-.77-.702-.219-4.347-.508-8.1-.643l-6.824-.245v56.463"
        />
      </g>
    </svg>
  );
};

const SalesButton = ({ data, labelText, value, user = {}, ...rest }) => {
  if (!value || !isUrl(value) || isPartner(user)) return null;
  return (
    <TooltipIcon tooltipText={labelText}>
      <Button
        onClick={() => {
          trackNav({ ...data, type: "Button", milestone: "Seismic sales" });
          window.open(value);
        }}
        {...rest}>
        <SeismicIcon />
      </Button>
    </TooltipIcon>
  );
};

SalesButton.defaultProps = {
  labelText: "Show Seismic sales",
  value: null,
};

SalesButton.propTypes = {
  data: PropTypes.any,
  labelText: PropTypes.string,
  value: PropTypes.any,
  user: PropTypes.any,
};

export default SalesButton;
